"use strict";(self["webpackChunkping_fan_green"]=self["webpackChunkping_fan_green"]||[]).push([[991],{8991:function(e,a,s){s.r(a),s.d(a,{default:function(){return g}});var i=s(3396),l=s(7139);const n={class:"login_bg container-fluid vh-100"},t={class:"row justify-content-center"},o={class:"col-md-8 col-lg-5"},d={class:"bg-dark-opacity vh-100 p-5"},r=(0,i._)("h2",{class:"text-white mt-12 mb-5"},"管理者登入",-1),m={class:"mb-3"},c=(0,i._)("label",{for:"adminEmail",class:"form-label"},"Email",-1),u={class:"mb-5"},p=(0,i._)("label",{for:"adminPassword",class:"form-label"},"密碼",-1),h=["disabled"],b=(0,i.Uk)("前往前台首頁");function f(e,a,s,f,w,v){const _=(0,i.up)("v-field"),g=(0,i.up)("error-message"),k=(0,i.up)("v-form"),x=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",t,[(0,i._)("div",o,[(0,i._)("div",d,[r,(0,i.Wm)(k,{ref:"form",class:"text-white mb-4",onSubmit:v.loginSubmit},{default:(0,i.w5)((({errors:e})=>[(0,i._)("div",m,[c,(0,i.Wm)(_,{id:"adminEmail",name:"adminEmail",type:"email",class:(0,l.C_)(["form-control",{"is-invalid":e["adminEmail"]}]),placeholder:"請輸入 Email",rules:"required|email",modelValue:w.admin.username,"onUpdate:modelValue":a[0]||(a[0]=e=>w.admin.username=e)},null,8,["class","modelValue"]),(0,i.Wm)(g,{name:"adminEmail",class:"invalid-feedback"})]),(0,i._)("div",u,[p,(0,i.Wm)(_,{id:"adminPassword",name:"adminPassword",type:"password",class:(0,l.C_)(["form-control",{"is-invalid":e["adminPassword"]}]),placeholder:"請輸入密碼",rules:"required",modelValue:w.admin.password,"onUpdate:modelValue":a[1]||(a[1]=e=>w.admin.password=e)},null,8,["class","modelValue"]),(0,i.Wm)(g,{name:"adminPassword",class:"invalid-feedback"})]),(0,i._)("button",{disabled:Object.keys(e).length>0,type:"submit",class:"btn btn-primary w-100"},"登入",8,h)])),_:1},8,["onSubmit"]),(0,i.Wm)(x,{to:"/",class:"d-block text-white text-center"},{default:(0,i.w5)((()=>[b])),_:1})])])])])}var w={data(){return{admin:{username:"",password:""}}},methods:{loginSubmit(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.admin).then((e=>{const{token:a,expired:s}=e.data;document.cookie=`pfgToken=${a};expires=${new Date(s)};`,this.$swal({icon:"success",title:"登入成功",showCloseButton:!0}),this.$router.push("/admin/product")})).catch((e=>{this.$swal({icon:"error",title:e.response.data.message,showCloseButton:!0})}))}}},v=s(89);const _=(0,v.Z)(w,[["render",f]]);var g=_}}]);
//# sourceMappingURL=991.fd8b6c35.js.map